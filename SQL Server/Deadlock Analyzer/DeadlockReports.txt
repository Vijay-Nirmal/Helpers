<deadlock>  <victim-list>    <victimProcess id="process27b9b0b9848" />  </victim-list>  <process-list>    <process id="process27b9b0b9848" taskpriority="0" logused="0" waitresource="KEY: 5:72057594214350848 (1a39e6095155)" waittime="1631" ownerId="11088595" transactionname="SELECT" lasttranstarted="2022-02-18T00:26:23.073" XDES="0x27b9f79fac0" lockMode="S" schedulerid="9" kpid="15336" status="suspended" spid="62" sbid="0" ecid="0" priority="0" trancount="0" lastbatchstarted="2022-02-18T00:26:22.893" lastbatchcompleted="2022-02-18T00:26:22.890" lastattention="1900-01-01T00:00:00.890" clientapp="SQLCMD" hostname="ContosoServer" hostpid="7908" loginname="CONTOSO\user" isolationlevel="read committed (2)" xactid="11088595" currentdb="5" lockTimeout="4294967295" clientoption1="538968096" clientoption2="128056">      <executionStack>              <frame procname="AdventureWorks2022.dbo.p1" line="3" stmtstart="78" stmtend="180" sqlhandle="0x0300050020766505ca3e07008ba8000001000000000000000000000000000000000000000000000000000000">SELECT c2, c3 FROM t1 WHERE c2 BETWEEN @p1 AND @p1+    </frame>              <frame procname="adhoc" line="4" stmtstart="82" stmtend="98" sqlhandle="0x020000006263ec01ebb919c335024a072a2699958d3fcce60000000000000000000000000000000000000000">unknown    </frame>      </executionStack>      <inputbuf>SET NOCOUNT ONWHILE (1=1)BEGIN    EXEC p1 4END   </inputbuf>  </process>  <process id="process27b9ee33c28" taskpriority="0" logused="252" waitresource="KEY: 5:72057594214416384 (e5b3d7e750dd)" waittime="1631" ownerId="11088593" transactionname="UPDATE" lasttranstarted="2022-02-18T00:26:23.073" XDES="0x27ba15a4490" lockMode="X" schedulerid="6" kpid="5584" status="suspended" spid="58" sbid="0" ecid="0" priority="0" trancount="2" lastbatchstarted="2022-02-18T00:26:22.890" lastbatchcompleted="2022-02-18T00:26:22.890" lastattention="1900-01-01T00:00:00.890" clientapp="SQLCMD" hostname="ContosoServer" hostpid="15316" loginname="CONTOSO\user" isolationlevel="read committed (2)" xactid="11088593" currentdb="5" lockTimeout="4294967295" clientoption1="538968096" clientoption2="128056">    <executionStack>              <frame procname="AdventureWorks2022.dbo.p2" line="3" stmtstart="76" stmtend="150" sqlhandle="0x03000500599a5906ce3e07008ba8000001000000000000000000000000000000000000000000000000000000">UPDATE t1 SET c2 = c2+1 WHERE c1 = @p    </frame>              <frame procname="adhoc" line="4" stmtstart="82" stmtend="98" sqlhandle="0x02000000008fe521e5fb1099410048c5743ff7da04b2047b0000000000000000000000000000000000000000">unknown    </frame>    </executionStack>    <inputbuf>SET NOCOUNT ONWHILE (1=1)BEGIN    EXEC p2 4END   </inputbuf>  </process></process-list><resource-list>  <keylock hobtid="72057594214350848" dbid="5" objectname="AdventureWorks2022.dbo.t1" indexname="cidx" id="lock27b9dd26a00" mode="X" associatedObjectId="72057594214350848">    <owner-list>      <owner id="process27b9ee33c28" mode="X" />    </owner-list>    <waiter-list>      <waiter id="process27b9b0b9848" mode="S" requestType="wait" />    </waiter-list>  </keylock>  <keylock hobtid="72057594214416384" dbid="5" objectname="AdventureWorks2022.dbo.t1" indexname="idx1" id="lock27afa392600" mode="S" associatedObjectId="72057594214416384">    <owner-list>      <owner id="process27b9b0b9848" mode="S" />    </owner-list>    <waiter-list>      <waiter id="process27b9ee33c28" mode="X" requestType="wait" />    </waiter-list>  </keylock></resource-list></deadlock>
<deadlock> <victim-list>  <victimProcess id="process3749e50c8" />  <victimProcess id="process3749e4928" />  <victimProcess id="process3749e5c38" />  <victimProcess id="process37797c928" />  <victimProcess id="process3749e4558" />  <victimProcess id="process3747e70c8" />  <victimProcess id="process378639c38" />  <victimProcess id="process375a72558" />  <victimProcess id="process3786390c8" /> </victim-list> <process-list>  <process id="process3749e50c8" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4486" ownerId="2903582" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x377ea23a8" lockMode="IX" schedulerid="1" kpid="38928" status="suspended" spid="55" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.633" lastattention="1900-01-01T00:00:00.633" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903582" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process3749e4928" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4486" ownerId="2903586" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x37e04f078" lockMode="IX" schedulerid="1" kpid="4244" status="suspended" spid="64" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.637" lastattention="1900-01-01T00:00:00.637" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903586" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process3749e5c38" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903585" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x37ab7cd28" lockMode="IX" schedulerid="1" kpid="38892" status="suspended" spid="61" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.637" lastattention="1900-01-01T00:00:00.637" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903585" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process37797c928" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903584" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x3754e8d28" lockMode="IX" schedulerid="1" kpid="32072" status="suspended" spid="59" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.637" lastattention="1900-01-01T00:00:00.637" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903584" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process3749e4558" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903583" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x377ea2d28" lockMode="IX" schedulerid="1" kpid="36388" status="suspended" spid="57" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.637" lastattention="1900-01-01T00:00:00.637" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903583" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process3747e70c8" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903581" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x37ab7c3a8" lockMode="IX" schedulerid="2" kpid="37560" status="suspended" spid="63" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.627" lastattention="1900-01-01T00:00:00.627" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903581" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process378639c38" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903580" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x377b60d28" lockMode="IX" schedulerid="2" kpid="22656" status="suspended" spid="62" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.627" lastattention="1900-01-01T00:00:00.627" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903580" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process375a72558" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903579" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x377b616a8" lockMode="IX" schedulerid="2" kpid="22960" status="suspended" spid="60" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.623" lastattention="1900-01-01T00:00:00.623" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903579" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process3786390c8" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903578" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x377b603a8" lockMode="IX" schedulerid="2" kpid="30268" status="suspended" spid="58" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.623" lastattention="1900-01-01T00:00:00.623" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903578" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process>  <process id="process3747e7868" taskpriority="0" logused="0" waitresource="OBJECT: 2:264388011:0 " waittime="4487" ownerId="2903577" transactionname="user_transaction" lasttranstarted="2012-10-25T20:49:28.517" XDES="0x37ab7d6a8" lockMode="IX" schedulerid="2" kpid="37880" status="suspended" spid="56" sbid="0" ecid="0" priority="0" trancount="3" lastbatchstarted="2012-10-25T20:49:56.640" lastbatchcompleted="2012-10-25T20:49:56.623" lastattention="1900-01-01T00:00:00.623" clientapp=".Net SqlClient Data Provider" hostname="WS-HPDV7" hostpid="17052" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="2903577" currentdb="2" lockTimeout="4294967295" clientoption1="673187936" clientoption2="390200">   <executionStack>    <frame procname="adhoc" line="6" stmtstart="16" sqlhandle="0x02000000eeda9d033f24084ed8191c2cee06a6148f7ea6240000000000000000000000000000000000000000">UPDATE [dbo].[junk] set [i] = @1    </frame>    <frame procname="adhoc" line="6" stmtstart="142" sqlhandle="0x0200000095ebf5346d60a6b12dbee5fd29e4a7e173e769f80000000000000000000000000000000000000000">UPDATE dbo.junk SET i=1; --ROLLBACK    </frame>   </executionStack>   <inputbuf> BEGIN TRANSACTION SELECT * FROM junk WITH (TABLOCK, HOLDLOCK); UPDATE dbo.junk SET i=1; --ROLLBACK   </inputbuf>  </process> </process-list> <resource-list>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e4558" mode="S" />    <owner id="process3747e70c8" mode="S" />    <owner id="process3747e70c8" mode="IX" requestType="convert" />    <owner id="process3749e4558" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3749e50c8" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e4558" mode="S" />    <owner id="process3747e70c8" mode="S" />    <owner id="process3747e70c8" mode="IX" requestType="convert" />    <owner id="process3749e4558" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3749e4928" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e4558" mode="S" />    <owner id="process3747e70c8" mode="S" />    <owner id="process3747e70c8" mode="IX" requestType="convert" />    <owner id="process3749e4558" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3749e5c38" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process3749e5c38" mode="S" />    <owner id="process3749e4558" mode="S" />    <owner id="process3747e70c8" mode="S" />    <owner id="process3747e70c8" mode="IX" requestType="convert" />    <owner id="process3749e4558" mode="IX" requestType="convert" />    <owner id="process3749e5c38" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process37797c928" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e50c8" mode="S" />    <owner id="process3747e70c8" mode="S" />    <owner id="process3749e50c8" mode="IX" requestType="convert" />    <owner id="process3747e70c8" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3749e4558" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e50c8" mode="S" />    <owner id="process3747e7868" mode="S" />    <owner id="process3747e7868" mode="IX" requestType="convert" />    <owner id="process3749e50c8" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3747e70c8" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e50c8" mode="S" />    <owner id="process3747e7868" mode="S" />    <owner id="process3747e7868" mode="IX" requestType="convert" />    <owner id="process3749e50c8" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process378639c38" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e50c8" mode="S" />    <owner id="process3747e7868" mode="S" />    <owner id="process3747e7868" mode="IX" requestType="convert" />    <owner id="process3749e50c8" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process375a72558" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e50c8" mode="S" />    <owner id="process3747e7868" mode="S" />    <owner id="process3747e7868" mode="IX" requestType="convert" />    <owner id="process3749e50c8" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3786390c8" mode="IX" requestType="convert" />   </waiter-list>  </objectlock>  <objectlock lockPartition="0" objid="264388011" subresource="FULL" dbid="2" objectname="tempdb.dbo.junk" id="lock37a897b00" mode="S" associatedObjectId="264388011">   <owner-list>    <owner id="process37797c928" mode="S" />    <owner id="process3749e50c8" mode="S" />    <owner id="process3749e50c8" mode="IX" requestType="convert" />    <owner id="process37797c928" mode="IX" requestType="convert" />   </owner-list>   <waiter-list>    <waiter id="process3747e7868" mode="IX" requestType="convert" />   </waiter-list>  </objectlock> </resource-list></deadlock>
<deadlock-list><deadlock victim="process181735b88"><process-list><process id="process181735b88" taskpriority="0" logused="352" waitresource="KEY: 21:72057594049658880 (010008207756)" waittime="9564" ownerId="181040" transactionname="user_transaction" lasttranstarted="2011-05-15T00:12:52.523" XDES="0x19208ce90" lockMode="X" schedulerid="2" kpid="4380" status="suspended" spid="60" sbid="0" ecid="0" priority="0" trancount="2" lastbatchstarted="2011-05-15T00:12:52.523" lastbatchcompleted="2011-05-15T00:12:28.323" clientapp="Microsoft SQL Server Management Studio - Query" hostname="WS-HPDV7" hostpid="4636" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="181040" currentdb="21" lockTimeout="4294967295" clientoption1="671090784" clientoption2="390200"><executionStack><frame procname="adhoc" line="5" stmtstart="38" sqlhandle="0x0200000071e4b91c182ff5918af8199d2b19e9fb930172bc">UPDATE [dbo].[Tally] set [N] = [N]-@1  WHERE [N]=@2     </frame><frame procname="adhoc" line="5" stmtstart="136" sqlhandle="0x02000000c2adc438b1f60f3b4049de8c294e3acf4c0113c0">UPDATE dbo.Tally SET N = N-1 WHERE N = 1 --ROLLBACK TRANSACTION     </frame></executionStack><inputbuf>BEGIN TRANSACTION UPDATE dbo.Tally_sm SET N = N-2 WHERE N = 1 UPDATE dbo.Tally SET N = N-1 WHERE N = 1 --ROLLBACK TRANSACTION    </inputbuf></process><process id="process181734bc8" taskpriority="0" logused="360" waitresource="KEY: 21:72057594038976512 (010086470766)" waittime="4208" ownerId="181034" transactionname="user_transaction" lasttranstarted="2011-05-15T00:12:46.773" XDES="0x18f0c9970" lockMode="X" schedulerid="2" kpid="4388" status="suspended" spid="56" sbid="0" ecid="0" priority="0" trancount="2" lastbatchstarted="2011-05-15T00:12:57.880" lastbatchcompleted="2011-05-15T00:12:46.773" clientapp="Microsoft SQL Server Management Studio - Query" hostname="WS-HPDV7" hostpid="4636" loginname="WS-HPDV7\wgshef" isolationlevel="read committed (2)" xactid="181034" currentdb="21" lockTimeout="4294967295" clientoption1="671090784" clientoption2="390200"><executionStack><frame procname="adhoc" line="1" stmtstart="38" sqlhandle="0x02000000c556121369885d6117621bc2f0e2091c81bf6e70">UPDATE [dbo].[Tally_sm] set [N] = [N]-@1  WHERE [N]=@2     </frame><frame procname="adhoc" line="1" sqlhandle="0x02000000b8cc250508388dfe00dcef08bfd27496a9da3b34">UPDATE dbo.Tally_sm SET N = N-2 WHERE N = 1     </frame></executionStack><inputbuf>UPDATE dbo.Tally_sm SET N = N-2 WHERE N = 1</inputbuf></process></process-list><resource-list><keylock hobtid="72057594049658880" dbid="21" objectname="Sandbox.dbo.Tally" indexname="PK_Tally" id="lock1852e8700" mode="X" associatedObjectId="72057594049658880"><owner-list><owner id="process181734bc8" mode="X"/></owner-list><waiter-list><waiter id="process181735b88" mode="X" requestType="wait"/></waiter-list></keylock><keylock hobtid="72057594038976512" dbid="21" objectname="Sandbox.dbo.Tally_sm" indexname="PK_Tally_sm" id="lock184e54080" mode="X" associatedObjectId="72057594038976512"><owner-list><owner id="process181735b88" mode="X"/></owner-list><waiter-list><waiter id="process181734bc8" mode="X" requestType="wait"/></waiter-list></keylock></resource-list></deadlock></deadlock-list>
<deadlock>    <victim-list>        <victimProcess id="process27b9b0b9848" />    </victim-list>    <process-list>        <process id="process27b9b0b9848" taskpriority="0" logused="0"            waitresource="KEY: 5:72057594214350848 (1a39e6095155)" waittime="1631"            ownerId="11088595" transactionname="SELECT" lasttranstarted="2022-02-18T00:26:23.073"            XDES="0x27b9f79fac0" lockMode="S" schedulerid="9" kpid="15336" status="suspended"            spid="62" sbid="0" ecid="0" priority="0" trancount="0"            lastbatchstarted="2022-02-18T00:26:22.893" lastbatchcompleted="2022-02-18T00:26:22.890"            lastattention="1900-01-01T00:00:00.890" clientapp="SQLCMD" hostname="ContosoServer"            hostpid="7908" loginname="CONTOSO\user" isolationlevel="read committed (2)"            xactid="11088595" currentdb="5" lockTimeout="4294967295" clientoption1="538968096"            clientoption2="128056">            <executionStack>                <frame procname="adhoc" line="3" stmtstart="78" stmtend="180"                    sqlhandle="0x0300050020766505ca3e07008ba8000001000000000000000000000000000000000000000000000000000000">                    unknown   </frame>                <frame procname="unknown" line="4" stmtstart="82" stmtend="98"                    sqlhandle="0x020000006263ec01ebb919c335024a072a2699958d3fcce60000000000000000000000000000000000000000">                    unknown    </frame>            </executionStack>            <inputbuf>(@p5 int, @p4 decimal(18,2), @p3 nvarchar(100),@p2 nvarchar(max))SET NOCOUNT NIRMAL ONWHILE (1=1)BEGIN EXEC p1 4END </inputbuf>        </process>        <process id="process27b9ee33c28" taskpriority="0" logused="252"            waitresource="KEY: 5:72057594214416384 (e5b3d7e750dd)" waittime="1631"            ownerId="11088593" transactionname="UPDATE" lasttranstarted="2022-02-18T00:26:23.073"            XDES="0x27ba15a4490" lockMode="X" schedulerid="6" kpid="5584" status="suspended"            spid="58" sbid="0" ecid="0" priority="0" trancount="2"            lastbatchstarted="2022-02-18T00:26:22.890" lastbatchcompleted="2022-02-18T00:26:22.890"            lastattention="1900-01-01T00:00:00.890" clientapp="SQLCMD" hostname="ContosoServer"            hostpid="15316" loginname="CONTOSO\user" isolationlevel="read committed (2)"            xactid="11088593" currentdb="5" lockTimeout="4294967295" clientoption1="538968096"            clientoption2="128056">            <executionStack>                <frame procname="adhoc" line="3" stmtstart="76" stmtend="150"                    sqlhandle="0x03000500599a5906ce3e07008ba8000001000000000000000000000000000000000000000000000000000000">                    unknown </frame>                <frame procname="unknown" line="4" stmtstart="82" stmtend="98"                    sqlhandle="0x02000000008fe521e5fb1099410048c5743ff7da04b2047b0000000000000000000000000000000000000000">                    unknown    </frame>            </executionStack>            <inputbuf>SET NOCOUNT NIRMAL 2 ONWHILE (1=1)BEGIN EXEC p2 4END </inputbuf>        </process>    </process-list>    <resource-list>        <keylock hobtid="72057594214350848" dbid="5" objectname="AdventureWorks2022.dbo.t1"            indexname="cidx" id="lock27b9dd26a00" mode="X" associatedObjectId="72057594214350848">            <owner-list>                <owner id="process27b9ee33c28" mode="X" />            </owner-list>            <waiter-list>                <waiter id="process27b9b0b9848" mode="S" requestType="wait" />            </waiter-list>        </keylock>        <keylock hobtid="72057594214416384" dbid="5" objectname="AdventureWorks2022.dbo.t1"            indexname="idx1" id="lock27afa392600" mode="S" associatedObjectId="72057594214416384">            <owner-list>                <owner id="process27b9b0b9848" mode="S" />            </owner-list>            <waiter-list>                <waiter id="process27b9ee33c28" mode="X" requestType="wait" />            </waiter-list>        </keylock>    </resource-list></deadlock>